# Project-wide Gradle settings.
# Increase the maximum heap available to Gradle so dex merging and APK packaging
# tasks have enough memory to process large native libraries without crashing.
org.gradle.jvmargs=-Xmx6g -XX:MaxMetaspaceSize=1024m -XX:+UseParallelGC -Dfile.encoding=UTF-8
org.gradle.daemon=true
org.gradle.parallel=true
org.gradle.caching=true
# Disable configuration cache to avoid serialization errors triggered by
# connected Android test tasks that rely on script object references.
org.gradle.configuration-cache=false
org.gradle.configureondemand=true
kotlin.code.style=official
android.useAndroidX=true
android.enableJetifier=false
android.nonTransitiveRClass=true
android.experimental.art-profile-r8-rewriting=true
org.gradle.jvm.toolchain.installations.auto-download=true
org.gradle.jvm.toolchain.installations.auto-detect=true
android.compileSdk=35
android.minSdk=26
android.targetSdk=35
android.suppressUnsupportedCompileSdk=35
# Allow AGP to fetch missing command line SDK dependencies when no local installation is present.
android.experimental.sdkDownload=true
android.enableR8.fullMode=true
# Disable incremental KSP to avoid sporadic missing generated Hilt artifacts during
# debug/androidTest builds. The screenshot harness runs KSP after cleaning the build
# directory, which can trigger kotlin-symbol-processing to look for stale "byRounds"
# outputs that no longer exist and crash with NoSuchFileException. Turning off
# incremental processing keeps KSP on the safer full rebuild path so the
# instrumentation APK can be built reliably.
ksp.incremental=false
